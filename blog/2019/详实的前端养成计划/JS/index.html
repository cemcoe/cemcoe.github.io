<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JavaScript基础</title>
    <!-- 全局样式 -->
    <style>
        body {
            max-width: 600px;
            margin: 0 auto;
            border: 1px solid #000;
            font-size: 62.5%;
            padding: 4px;
        }
        h1 {
            text-align: center;
            font-size: 2em;
        }
        h2 {
            text-align: center;
        }
    </style>
</head>

<body onload="checkCookies()">
    <article>
        <h1>JavaScript基础</h1>

        <script>
            document.write("最后修改时间" + document.lastModified);
        </script>

        <!-- 基本素养 -->
        <section id="baseInfo">
            <h2>专业素养</h2>
            <p>JavaScript一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。</p>
            <p>console.log() 向控制台输出信息。</p>
            <p>alert() 函数在 JavaScript 中并不常用，但它对于代码测试非常方便。</p>
            <p>document.write() 仅仅向文档输出写内容,如果在文档已完成加载后执行 document.write，整个 HTML 页面将被覆盖。</p>
            <p>JavaScript 对大小写是敏感的。</p>
            <p>单行注释以 // 开头；多行注释以 /* 开始，以 */ 结尾。</p>
            <hr>
        </section>

        <!-- 小demo -->
        <section id="smalldemos">
            <h2>小demos</h2>
            <div class="demos">
                <div id="demochangehtml" onclick="demochangehtml()">
                    Hello Python!这里的内容将被改变
                </div>
                <button type="button" onclick="demochangehtml()">改变</button>
                <script>
                    function demochangehtml() {
                        demochangehtml = document.getElementById("demochangehtml"); // 查找元素
                        demochangehtml.innerHTML = "demochangehtml.innerHTML 向对象中写内容"; // 改变内容

                    }

                </script>
            </div>
            <hr>


            <button type="button" onclick="alert('酯')">醇+酸合成</button>
            <hr>
            变更图片，这里有用到一句element.src.match("pkq-1")判断src的值中是否包含pkq-1

            <img id="myimgpk" src="imgs/pkq-1.png" alt="" onclick="changeImgPk()">

            <script type="text/javascript">
                function changeImgPk() {
                    element = document.getElementById('myimgpk');

                    if (element.src.match("pkq-1")) {
                        element.src = "imgs/pkq-2.png";

                    }
                    else {
                        element.src = "imgs/pkq-1.png";
                    }
                }
            </script>
            <hr>

            改变样式
            <p id="changestyle">
                改变样式
            </p>
            <script type="text/javascript">
                changstyledemo = document.getElementById("changestyle");
                // alert(changstyledemo);
                changstyledemo.style.color = "#666";
                changstyledemo.style.border = "1px solid #000";
            </script>
            <hr>
            验证输入
            <p>输入数字，若不是则弹窗document.getElementById('numberssl').value</p>
            <input id="numberssl" type="text">
            <script type="text/javascript">
                function numberssl() {
                    var x = document.getElementById('numberssl').value;
                    if (x == "" || isNaN(x)) {
                        alert("请输入数字");
                    }
                }
            </script>
            <button type="button" onclick="numberssl()">验证</button>

        </section>



        <!-- 弹窗 -->
        <section id="">
            <h2>弹窗</h2>
            <p>弹窗主要有三种
                alert文本
                confirm是确定
                prompt返回文本信息
                这些对话框是静态的用户必须进行选择
            </p>
            <script>


                alert("alert弹窗--->Hello JavaScript!!!");

                var option = confirm("confirm弹窗" + "\n" + "Are you 18?");
                if (option) {
                    document.write("confirm 对话框--->你18岁");
                } else {
                    document.write("confirm 对话框--->你不是18岁");
                }

                var major = prompt("prompt弹窗--->你的专业是：", "应用化学");
                document.write("\n" + "你的专业是：" + major);

            </script>
        </section>

        <!-- 时间 -->
        <section id="">
            <h2>时间</h2>
            <p>setTimeout暂停
                setInterval设置时间间隔
                ClearInterval阻止再次执行
            </p>
            <script>
                // setTimeout("alert('注意休息')", 1000);
                function saySleep() {
                    alert('注意休息，1s已经过去');
                }

                setTimeout(saySleep, 1000);


                var mintime = 3;
                var time = mintime * 1000 * 60;
                function sayHello() {
                    alert(mintime + 'min后我还会回来的');
                }

                setInterval(sayHello, time);

            </script>
        </section>



        <!-- location对象 -->
        <section>
            <h2>location对象</h2>
            <script>
                document.write("location" + location + '<br>');
                document.write("location.hash" + location.hash + '<br>');
                document.write("locatioon.host" + location.host + '<br>');
                document.write("最常用的location.href" + location.href + '<br>');
                document.write("location.pathname" + location.pathname + '<br>');
                document.write("location.port" + location.port + '<br>');
                document.write("location.protocol" + location.protocol + '<br>');
                // document.write("从服务器重新载入" + location.reload(true) + '<br>');
                // document.write("从缓存重新载入" + location.reload(false) + '<br>');

            </script>
        </section>


        <!-- navigator对象 -->
        <section>
            <h2>navigator对象</h2>
            <script>
                document.write("浏览器名字" + navigator.appName + '<br>');
                document.write("语言" + navigator.language + '<br>');
                document.write('是否联网' + navigator.onLine + '<br>');
                document.write('操作系统err' + '<br>');
                document.write('运行平台' + navigator.platform + '<br>');
                document.write('用户代理' + navigator.userAgent);
            </script>

        </section>





        <!-- 错误捕获 -->
        <section id="">
            <h2>错误捕获</h2>
            <script type="text/javascript">
                var txt = "";
                function message() {
                    try {
                        adddd({ sdfaknjgk });

                    }
                    catch (err) {
                        txt = "本页有一个错误。\n\n";
                        txt += "错误描述： " + err.message + "\n\n";
                        txt += "点击确定继续。\n\n";
                        alert(txt);
                    }
                }
            </script>
            <input type="button" value="查看消息" onclick="message()" />

        </section>

        <!-- 表单验证 -->
        <section id="">
            <h2>表单验证</h2>
            <p>友情提醒：不要在框里填写敏感信息</p>
            <form action="demo.htm" onsubmit="return validate_form(this)" method="post">
                Email:<input type="text" name="email" size="30">
                <input type="submit" value="提交">
            </form>

            <script type="text/javascript">
                function validate_required(field, alerttxt) {
                    with (field) {
                        apos = value.indexOf("@");
                        dotpos = value.lastIndexOf(".");
                        if (apos < 1 || dotpos - apos < 2) {
                            alert(alerttxt);
                            return false;
                        }
                        else {
                            return true;
                        }
                    }
                }

                function validate_form(thisform) {
                    with (thisform) {
                        if (validate_required(email, "不是一个合法的邮箱地址") == false) {
                            email.focus();
                            return false;
                        }
                    }
                }
            </script>

        </section>

        <!-- DOM -->
        <section id="">
            <h2>DOM</h2>
            <p>当网页被加载时，浏览器会创建页面的文档对象模型（Document Object Model）。</p>
            <p>类型检查</p>
            <code>
                document.nodeType;
            </code>
            <script>
                document.write(document.nodeType);
            </script>
            <p>查找id为demo的元素</p>
            <code>var x = document.getElementById("demo")</code>
            <p>查找标签为code的元素</p>
            <code>var code = document.getElementsByTagName("code")</code>
            <script>
                var code = document.getElementsByTagName('code');
                document.write(code);
            </script>

            <p>getElementsByName()</p>
            <p>
                <ul>
                    <li name='namedemos' value="小年快乐">12</li>
                    <li></li>
                    <li name='namedemos'>regew</li>
                </ul>
            </p>
            <script>
                var namedemos = document.getElementsByName('namedemos');
                document.write('name 为namedemos的元素个数' + namedemos.length + '<br>');
                document.write('第一个namedemos的value值为' + namedemos[0].getAttribute('value'));
            </script>


            <h3>创建结点</h3>
            <p id="appendemo">创建一个p结点var oP = document.createElement('p');
                创建一个文本结点var oText = document.createTextNode('小年快乐');
                将文本结点追加到p结点oP.appendChild(oText);
                将p结点插入DOM appendemo.appendChild(oP);
            </p>
            <script>
                var appendemo = document.getElementById('appendemo');
                var oP = document.createElement('p');
                var oText = document.createTextNode('小年快乐');
                oP.appendChild(oText);
                appendemo.appendChild(oP);
            </script>


            <h3>删除结点</h3>
            <p>removeChild，replaceChild，insertBefore</p>
            <p>这里本应由5个li结点</p>
            <ul id="removeLis">
                <li>苯</li>
                <li>溴</li>
                <li>氟</li>
                <li>酶</li>
                <li>酸</li>
            </ul>
            <script>

                var removeLis = document.getElementById('removeLis');

                document.write('没有移除前个数：' + removeLis.childNodes.length);

                var Li1 = removeLis.getElementsByTagName('li')[0];
                removeLis.removeChild(Li1);
                document.write('移除后个数：' + removeLis.childNodes.length);
            </script>
            <p>replace</p>
            <p id="replademos">
                fkjfklajgjadsjgkjadsjfjal
            </p>
            <script>
                var oDemos = document.getElementById('replademos');
                var newP = document.createElement('p');
                var newText = document.createTextNode('HAHJADSFAJF');
                newP.appendChild(newText);

                oDemos.parentNode.replaceChild(newP, oDemos);



                
            
            </script>





            <script>
                document.write("<p>今天的日期是：" + Date() + "</p>");
            </script>
            <p>改变属性</p>
            <code>document.getElementById("image").src="demo.jpg";</code>
            <p>改变样式</p>
            <code>document.getElementById(id).style.property=new style</code>



        </section>


        <section>
            <h2>DOM 遍历</h2>
            <p></p>
        </section>


        <!-- 事件 -->
        <section>
            <h2>事件</h2>
            <p>事件onload 和 onunload 事件会在用户进入或离开页面时被触发。</p>
            <p>
                onmouseover 和 onmouseout 事件可用于在用户的鼠标移至 HTML 元素上方或移出元素时触发函数。
            </p>
            <code>onclick=JavaScript</code>
            <p onclick="this.innerHTML='谢谢!'">请点击该文本</p>
        </section>
        <hr>

        <!-- HTML结点 -->
        <section>
            <h2>HTML结点</h2>

            <h3>结点的添加</h3>
            <p>找到要插入的地方->DOM</p>
            <code>var demo = document.getElementById('demo');</code>
            <p>创建新的HTML元素</p>
            <code>var node = document.createElement("p");</code>
            <p>将创建的结点插入到指定位置</p>
            <code>demo.appendChild(node);</code>
            <br><br>

            <h3>结点的删除</h3>
            <p>如需删除 HTML 元素，您必须首先获得该元素的父元素：</p>
            <code>
            var parent=document.getElementById("div1");
            var child=document.getElementById("p1");
            parent.removeChild(child);
        </code>


        </section>










        <hr>

        <section>
            <p>判断浏览器是否启用cookie；navigator.cookieEnabled == true</p>

            <script>
                function checkCookies() {
                    if (navigator.cookieEnabled == true) {
                        console.log("已启用 cookie");
                    }
                    else {
                        console.log("未启用 cookie");
                    }
                }
            </script>

            <p>控制台会告诉你，浏览器是否已启用 cookie。</p>
        </section>
    </article>
</body>

</html>