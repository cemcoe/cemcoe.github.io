<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>Vue | 如何将数据插入到DOM中 | 化学小子的前端实验册</title>
    
<link rel="stylesheet" href="../../static/css/post.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>

    <div id="book-nav">
        <button class="open-chapter">
            目录
        </button>
        <a class="book-info" href="../../index.html">
            <span class="nameoneline">化学小子的前端实验册</span>
        </a>
    </div>
    <article class="post">
        <div class="post-title">
            <h2 class="title">Vue | 如何将数据插入到DOM中</h2>
        </div>
        <div class="article-info">
            <div class="meta">

                
                <span class="tags">Vue</span>
                

                <span class="post-time">2020-03-02</span>
            </div>
        </div>
        <div class="note-content">
            <p>来瞧一瞧 Vue 中的插值操作，所谓的插值操作，换成人话讲就是将数据放入到一个模板中，进而拼凑成一个新玩意儿。</p>
<p>数据总是有些冰冷，不妨找一找现实中的例子。来看一个看得见的例子。小时候，常常见到师傅拿易拉罐制勺子，当时觉得真他喵的神奇。其实就是一个从固态变液态再到固态的过程。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3750332-72c26070a55c8f2b.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="易拉罐制勺子|图源水印|侵删"></p>
<p>其实，这里就跟插值操作类似，数据就是易拉罐，而 HTML 就是模具。</p>
<p>现在的问题就是把易拉罐倒进模具需要几步的问题。</p>
<p>高温加热易拉罐，当温度到达熔点后，易拉罐变成液态铝，这时就可以倒进模具里了。</p>
<hr>
<p>来看具体的代码<br>插值操作，将 data 中的数据插入到 DOM 中。</p>
<p>这里需要用到 mustache 语法，俗称双大括号语法。被双大括号包裹的可以是变量，也可以是表达式。</p>
<p>下面要用到的易拉罐即 data 为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    name: <span class="string">"cemcoe"</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    num: <span class="number">3</span>,</span><br><span class="line">    site: <span class="string">"https://www.jianshu.com/u/e20f22d3e8d3"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个 data 中，定义了名字，年龄永远18，num和链接。</p>
<hr>
<p>下面格式假定是 mustache 紧跟对应的解析结果，下面是一些测试：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello, &#123;&#123;name&#125;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Hello, cemcoe</p>
</blockquote>
<p>来个表达式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;age + num&#125;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>21</p>
</blockquote>
<hr>
<p>接下来进入激动人心的指令环节。</p>
<p>首先是 <code>v-once</code> ，一生只够爱一人，一旦定义便不再改变。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-once</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/3750332-3a53d8cb69e6a34e.gif?imageMogr2/auto-orient/strip" alt="v-once"></p>
<p>通过对比测试可以发现 <code>v-once</code> 可以保证在 data 中的数据发生更改时，可以使页面展示保持原有的值，屏蔽掉双向绑定效果。</p>
<p>来看另一个指令 v-html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;site&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span>=<span class="string">"site"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/3750332-e653385f42512888.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="v-html"></p>
<p>明显，数据会被当成 html 进行渲染，而非简单地当成字符串进行解析。</p>
<hr>
<p>最后拉看一个 <code>v-cloak</code> 斗篷指令，它地应用场景主要是防止闪动的出现，闪动是指 js 代码卡住了，双括号显示出来。<br><img src="https://upload-images.jianshu.io/upload_images/3750332-41ea29bf45f231ed.gif?imageMogr2/auto-orient/strip" alt="闪动"></p>
<p>解决：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span> <span class="attr">v-cloak</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;site&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;site&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;site&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;site&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>同时使用属性选择器将其 display 设为 none。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[v-cloak]</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当 Vue 加载完毕时，v-clock 会被删除，此时 p 标签可以显示了。</p>
<p>工作中解决闪动问题使用虚拟DOM。</p>
<blockquote>
<p>这里是连载 <a href="https://www.jianshu.com/nb/40206736" target="_blank" rel="noopener">化学小子的前端实验册</a> 的第 16 篇，欢迎关注。</p>
</blockquote>

            <p>> 这里是 cemcoe 连载 [化学小子的前端实验册] 的第 2 篇，欢迎关注。</p>
            <p>> 每天一遍提醒自己增强自身抵抗力，多喝热水，注意身体。</p>
        </div>
    </article>
    <!-- 我是章节目录遮罩  -->
    <div id="backdrop"></div>

    <div id="book-chapters">
        <div class="book-chapters-header">
            <span class="title">目录(共11篇)</span>
            <button class="reset">切换顺序</button>
        </div>
        <ul>
            
            <li style="order: 0;"><a
                    href="../hexo_how-to-make-a-hexo-theme-index/index.html">0---如何搞一个专属的 Hexo 的主题 | 首页篇</a></li>
            
            <li style="order: 0;"><a
                    href="../hexo_how-to-make-a-hexo-theme-post/index.html">0---如何搞一个专属的 Hexo 主题 | 文章篇</a></li>
            
            <li style="order: 2;"><a
                    href="">2---Vue | 如何将数据插入到DOM中</a></li>
            
            <li style="order: 5;"><a
                    href="../vue-two-boys/index.html">5---Vue | 事件监听的两个小伙伴</a></li>
            
            <li style="order: 3;"><a
                    href="../vue-insert-data-to-attribute/index.html">3---Vue | 如何将数据插入到属性中</a></li>
            
            <li style="order: 4;"><a
                    href="../vue-two-cp-methods-and-computed-or-vif-and-vshow/index.html">4---Vue | 两对cp methods && computed || v-if && v-show</a></li>
            
            <li style="order: 1;"><a
                    href="../vue_start-learn-vue/index.html">1---Vue 入手</a></li>
            
            <li style="order: 6;"><a
                    href="../vue-vmodel-and-form/index.html">6---Vue | v-model && form</a></li>
            
            <li style="order: 7;"><a
                    href="../vue_vue-component-base-operation/index.html">7---Vue | 组件化 | 基本操作</a></li>
            
            <li style="order: 8;"><a
                    href="../vue_vue-component-communicate/index.html">8---Vue | 组件化 | 组件通信</a></li>
            
            <li style="order: 9;"><a
                    href="../vue_vue-component-personal/index.html">9---Vue | 组件化 | 个性化组件slot</a></li>
            
        </ul>
        <div class="book-chapters-drawer-footer">
            <a href="../../index.html">前往作品主页</a>
        </div>


    </div>
    <!-- 111 -->
    
<script src="../../static/js/index.js"></script>


</body>

</html>