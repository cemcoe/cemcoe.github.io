<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>又是开开心心摇瓶子的一天</title>
    <!-- 开发环境版本，包含了有帮助的命令行警告 -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }
    li {
        list-style: none;
        padding: 4px;
        
        border: 1px solid #000;
        margin: 6px;
        text-align: left;
        background-color: rgb(255, 255, 255);
    }
    input {
        width: 220px;
        height: 30px;
    }
    button {
        width: 100px;
        height: 30px;
    }
    #app {
        padding: 12px;
        width: 80%;
        /* height: 120px; */
        margin: 30px auto;
        border: 1px solid #000;
        text-align: center;
        background-color: rgb(236, 228, 228);

    }
</style>

<body>
    <div id="app">
        <input type="text" v-model="inputValue">
        <button v-on:click="handleBtnClick">摇一摇</button>
        <ul>
            <!-- <li v-for="item in list">{{ item }}</li> -->
            <todo-item 
            :content="item"
            :index="index" 
            v-for="(item, index) in list"
            @delete="handleItemDelete">
            </todo-item>
        </ul>

    </div>
</body>
<script>
    


    // Vue.component("TodoItem", {
    //     props: ['content'],
    //     template: "<li>{{this.content}}</li>"
    // })

    // 局部组件

    var TodoItem = {
        props: ['content', 'index'],
        template: "<li @click='handleItemClick'>{{content}}</li>",
        methods: {
            handleItemClick: function() {
                // alert('dang')
                this.$emit("delete", this.index)
            }

        }
    }

    var app = new Vue({
        el: '#app',
        components: {
            TodoItem: TodoItem
        },
        data: {
            // list: ['第一课', '第二课', '2333']
            list: [],
            inputValue: ''

        },
        methods: {
            handleBtnClick: function () {
                // alert('click');
                // alert(this.inputValue)
                this.list.push(this.inputValue)

                // 提交后清空input
                this.inputValue = ''

            },
            handleItemDelete: function (index) {
                alert(index)
                this.list.splice(index, 1)
            }
        }
    })

</script>

</html>