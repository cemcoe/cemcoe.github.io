<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>化学小子的前端实验册</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="manifest" href="/fe/manifest.json">
    <meta name="description" content="化学小子的前端实验册，记录学习中遇到的各种坑">
    <meta name="theme-color" content="#3eaf7c">
    <link rel="preload" href="/fe/assets/css/0.styles.2d25daf9.css" as="style"><link rel="preload" href="/fe/assets/js/app.fb16d0e0.js" as="script"><link rel="preload" href="/fe/assets/js/2.0ebfb968.js" as="script"><link rel="preload" href="/fe/assets/js/3.029156cd.js" as="script"><link rel="prefetch" href="/fe/assets/js/10.beb6eb4d.js"><link rel="prefetch" href="/fe/assets/js/11.4d7d42d1.js"><link rel="prefetch" href="/fe/assets/js/12.f05138da.js"><link rel="prefetch" href="/fe/assets/js/13.c87e65aa.js"><link rel="prefetch" href="/fe/assets/js/14.137e3c4c.js"><link rel="prefetch" href="/fe/assets/js/15.6685f581.js"><link rel="prefetch" href="/fe/assets/js/16.522dc044.js"><link rel="prefetch" href="/fe/assets/js/17.2829d324.js"><link rel="prefetch" href="/fe/assets/js/18.d03a424c.js"><link rel="prefetch" href="/fe/assets/js/19.fa989bf1.js"><link rel="prefetch" href="/fe/assets/js/20.66d40aa8.js"><link rel="prefetch" href="/fe/assets/js/21.dc48875c.js"><link rel="prefetch" href="/fe/assets/js/22.d3f1858f.js"><link rel="prefetch" href="/fe/assets/js/23.ed308a1d.js"><link rel="prefetch" href="/fe/assets/js/24.13254fbb.js"><link rel="prefetch" href="/fe/assets/js/25.1687b0f0.js"><link rel="prefetch" href="/fe/assets/js/26.5a698fd6.js"><link rel="prefetch" href="/fe/assets/js/27.d9245638.js"><link rel="prefetch" href="/fe/assets/js/28.c7032021.js"><link rel="prefetch" href="/fe/assets/js/29.aa16e454.js"><link rel="prefetch" href="/fe/assets/js/30.fea385ce.js"><link rel="prefetch" href="/fe/assets/js/31.c158c43b.js"><link rel="prefetch" href="/fe/assets/js/32.6ceaa989.js"><link rel="prefetch" href="/fe/assets/js/33.a6159c98.js"><link rel="prefetch" href="/fe/assets/js/4.fe37311d.js"><link rel="prefetch" href="/fe/assets/js/5.303db8b9.js"><link rel="prefetch" href="/fe/assets/js/6.58437028.js"><link rel="prefetch" href="/fe/assets/js/7.c8952ff4.js"><link rel="prefetch" href="/fe/assets/js/8.a655ff0f.js"><link rel="prefetch" href="/fe/assets/js/9.adaaaa5d.js">
    <link rel="stylesheet" href="/fe/assets/css/0.styles.2d25daf9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe/" class="home-link router-link-active"><!----> <span class="site-name">化学小子的前端实验册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/front-end-data-collation-and-learning-records/" class="nav-link">
  前端资料整理及学习记录
</a></li><li class="dropdown-item"><!----> <a href="/fe/front-end-adventure-roadmap/" class="nav-link">
  前端探险路线图
</a></li><li class="dropdown-item"><!----> <a href="/fe/the-note-of-professional-javascript-for-web-developers/" class="nav-link">
  读JavaScript高级程序设计
</a></li><li class="dropdown-item"><!----> <a href="/fe/front-end-interview/" class="nav-link">
  前端面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/css-two-column-layout/" class="nav-link">
  CSS效果 | 两栏布局那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-three-column-layout/" class="nav-link">
  CSS效果 | 三栏布局那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-tab-bar/" class="nav-link">
  CSS效果 | Tab选项卡
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-swiper-picture/" class="nav-link">
  CSS效果 | 轮播图
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">JS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/a-few-simple-arithmetic-problems/" class="nav-link">
  JS | 几道简单的数学题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/vue-start-note/" class="nav-link">
  Vue | 入手笔记
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-insert-data-to-dom/" class="nav-link">
  Vue | 如何将数据插入到DOM中
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-insert-data-to-elm-attr/" class="nav-link">
  Vue | 如何将数据插入到元素属性中
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-two-cp-computed-methods-v-if-show/" class="nav-link">
  Vue | computed和methods与v-if和v-show的故事
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-v-on-and-methods/" class="nav-link">
  Vue | v-on和methods的羁绊
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-v-model-and-form/" class="nav-link">
  Vue | v-model和form的羁绊
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-base-operation/" class="nav-link">
  Vue | 组件化基本操作
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-communication/" class="nav-link">
  Vue | 组件通信
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-personal/" class="nav-link">
  Vue | 组件个性化
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-package-a-tabbar-component-from-zero/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue | 封装一个tabbar组件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/those-things-of-the-network-requests/" class="nav-link">
  网络请求那些事情
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-mock-data/" class="nav-link">
  如何模拟后端数据
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-axios/" class="nav-link">
  axios那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-koa-todolist-ssr-spa-api/" class="nav-link">
  以todolist为例，看前后端渲染
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-cors-break-origin-from-remove-blog/" class="nav-link">
  从博客迁移看跨域那点事儿
</a></li><li class="dropdown-item"><!----> <a href="/fe/front-end-login-and-user-management-based-on-hufu/" class="nav-link">
  以虎符为引看前端登录与用户管理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/node-koa-start-learn/" class="nav-link">
  Koa初体验
</a></li><li class="dropdown-item"><!----> <a href="/fe/node-hexo-template-cemcoe/" class="nav-link">
  如何搞一个专属的 Hexo 的主题
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/front-end-data-collation-and-learning-records/" class="nav-link">
  前端资料整理及学习记录
</a></li><li class="dropdown-item"><!----> <a href="/fe/front-end-adventure-roadmap/" class="nav-link">
  前端探险路线图
</a></li><li class="dropdown-item"><!----> <a href="/fe/the-note-of-professional-javascript-for-web-developers/" class="nav-link">
  读JavaScript高级程序设计
</a></li><li class="dropdown-item"><!----> <a href="/fe/front-end-interview/" class="nav-link">
  前端面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/css-two-column-layout/" class="nav-link">
  CSS效果 | 两栏布局那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-three-column-layout/" class="nav-link">
  CSS效果 | 三栏布局那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-tab-bar/" class="nav-link">
  CSS效果 | Tab选项卡
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-swiper-picture/" class="nav-link">
  CSS效果 | 轮播图
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">JS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/a-few-simple-arithmetic-problems/" class="nav-link">
  JS | 几道简单的数学题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/vue-start-note/" class="nav-link">
  Vue | 入手笔记
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-insert-data-to-dom/" class="nav-link">
  Vue | 如何将数据插入到DOM中
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-insert-data-to-elm-attr/" class="nav-link">
  Vue | 如何将数据插入到元素属性中
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-two-cp-computed-methods-v-if-show/" class="nav-link">
  Vue | computed和methods与v-if和v-show的故事
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-v-on-and-methods/" class="nav-link">
  Vue | v-on和methods的羁绊
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-v-model-and-form/" class="nav-link">
  Vue | v-model和form的羁绊
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-base-operation/" class="nav-link">
  Vue | 组件化基本操作
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-communication/" class="nav-link">
  Vue | 组件通信
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-personal/" class="nav-link">
  Vue | 组件个性化
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-package-a-tabbar-component-from-zero/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue | 封装一个tabbar组件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/those-things-of-the-network-requests/" class="nav-link">
  网络请求那些事情
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-mock-data/" class="nav-link">
  如何模拟后端数据
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-axios/" class="nav-link">
  axios那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-koa-todolist-ssr-spa-api/" class="nav-link">
  以todolist为例，看前后端渲染
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-cors-break-origin-from-remove-blog/" class="nav-link">
  从博客迁移看跨域那点事儿
</a></li><li class="dropdown-item"><!----> <a href="/fe/front-end-login-and-user-management-based-on-hufu/" class="nav-link">
  以虎符为引看前端登录与用户管理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/node-koa-start-learn/" class="nav-link">
  Koa初体验
</a></li><li class="dropdown-item"><!----> <a href="/fe/node-hexo-template-cemcoe/" class="nav-link">
  如何搞一个专属的 Hexo 的主题
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe/vue-package-a-tabbar-component-from-zero/#哪里可以看到例子？" class="sidebar-link">哪里可以看到例子？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/vue-package-a-tabbar-component-from-zero/#准备工作" class="sidebar-link">准备工作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe/vue-package-a-tabbar-component-from-zero/#为什么要封装组件？" class="sidebar-link">为什么要封装组件？</a></li><li class="sidebar-sub-header"><a href="/fe/vue-package-a-tabbar-component-from-zero/#准备-icon" class="sidebar-link">准备 icon</a></li><li class="sidebar-sub-header"><a href="/fe/vue-package-a-tabbar-component-from-zero/#思路分析" class="sidebar-link">思路分析</a></li></ul></li><li><a href="/fe/vue-package-a-tabbar-component-from-zero/#文件结构的确立" class="sidebar-link">文件结构的确立</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe/vue-package-a-tabbar-component-from-zero/#第一次抽离" class="sidebar-link">第一次抽离</a></li><li class="sidebar-sub-header"><a href="/fe/vue-package-a-tabbar-component-from-zero/#第二次抽离" class="sidebar-link">第二次抽离</a></li></ul></li><li><a href="/fe/vue-package-a-tabbar-component-from-zero/#功能代码" class="sidebar-link">功能代码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe/vue-package-a-tabbar-component-from-zero/#功能点1：点击变色" class="sidebar-link">功能点1：点击变色</a></li><li class="sidebar-sub-header"><a href="/fe/vue-package-a-tabbar-component-from-zero/#功能点2：路由跳转" class="sidebar-link">功能点2：路由跳转</a></li><li class="sidebar-sub-header"><a href="/fe/vue-package-a-tabbar-component-from-zero/#完善功能点1" class="sidebar-link">完善功能点1</a></li></ul></li><li><a href="/fe/vue-package-a-tabbar-component-from-zero/#边角料" class="sidebar-link">边角料</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>如何从零封装一个 Vue 组件哩？</p> <h2 id="哪里可以看到例子？"><a href="#哪里可以看到例子？" class="header-anchor">#</a> 哪里可以看到例子？</h2> <p>今天来封装一个 tabbar 组件，在 <a href="https://www.jianshu.com/p/fdd58caea73f" target="_blank" rel="noopener noreferrer">CSS 效果 | tab 选项卡<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中讲了使用原生 JavaScript 进行开发的方法，采用的是面向过程的编程思想。今天来用 Vue 封装一个类似的 tabbar 组件。</p> <p>这个 tabbar 效果在移动端很常见，下面是一些例子。</p> <p><img src="/fe/assets/img/demo.2671bf06.jpg" alt="demo"></p> <hr> <h2 id="准备工作"><a href="#准备工作" class="header-anchor">#</a> 准备工作</h2> <h3 id="为什么要封装组件？"><a href="#为什么要封装组件？" class="header-anchor">#</a> 为什么要封装组件？</h3> <p>组件封装是为了复用，换成大白话就是，同样的事情我不想做第二遍，节省出来的时间用来看动漫不香吗？</p> <p>好的，那怎么偷懒呢，根据杠杆原理，想要后期偷懒，前期就要尽可能地多考虑到会出现的各种情况。</p> <p>先分析上面的图，从中早找出他们的共性和特性。
<img src="/fe/assets/img/daotu.7c259f09.png" alt="放一起，对比"></p> <p>共性是一个 TabBar 组件包含若干 TabBarItem 组件，数目一般不超过 6 个不少于 2 个，每个 TabBarItem 中包含一个 icon 和一行 text。特性是每个 TabBarItem 包含的 icon 和 text 的具体值是不同的，可以使用插槽。瞎掰完毕。</p> <hr> <h3 id="准备-icon"><a href="#准备-icon" class="header-anchor">#</a> 准备 icon</h3> <p>不妨使用上图的 jianshu 作为测试，封装一下 TabBar 组件。
在开始莽代码前，准备一波。</p> <p>前期准备： <a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer">icon图准备<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，使用的是阿里巴巴矢量图标库，根据 jianshu 的 TabBar 截图来看需要准备 5*2 个 svg icon，这应该是美工的活，如果有美工的话。
<img src="/fe/assets/img/icons.259a3c8d.jpg" alt="准备的icon">
灰色 icon 是默认展示的，红色 icon 是被点击激活后展示的。</p> <hr> <h3 id="思路分析"><a href="#思路分析" class="header-anchor">#</a> 思路分析</h3> <p><img src="/fe/assets/img/eg.0b4284b4.jpg" alt="组件示例">
整个看到的是一个大组件，大组件里有并列的 item，即上图中黄框部分，而每个 item 又可以抽离成小组件。</p> <p>大组件定义插槽，传入小组件。小组件定义插槽传入图标和文字。</p> <hr> <p>下面进入激动人心的编码环节。</p> <h2 id="文件结构的确立"><a href="#文件结构的确立" class="header-anchor">#</a> 文件结构的确立</h2> <p>不妨先在 <code>App.vue</code> 中编写:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关注<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>简书砖<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>消息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#tab-bar</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 49px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #f5efef<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.tab-bar-item</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="data:image/jpeg;base64,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" alt="效果"></p> <p>主要进行的基础结构的编写，基础布局是 TabBar 固定到底部，TabBarItem 平均布局，文字居中。</p> <hr> <h3 id="第一次抽离"><a href="#第一次抽离" class="header-anchor">#</a> 第一次抽离</h3> <p>不妨建个文件抽离主要逻辑<code>components/tabbar/TabBar.vue</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关注<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>简书砖<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>消息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;TabBar&quot;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#tab-bar</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 49px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f5efef<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.tab-bar-item</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>与之对应 <code>App.vue</code> 就精简很多</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar</span><span class="token punctuation">&gt;</span></span>
      
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> TabBar <span class="token keyword">from</span> <span class="token string">'@/components/tabbar/TabBar'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span> TabBar <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/fe/assets/img/first-package.f3d92a2a.jpg" alt="第一次抽离"></p> <p>好的我们完成了第一次组件抽离，将 <code>App.vue</code> 拆成了 <code>App.vue</code> 和 <code>TabBar.vue</code>。</p> <hr> <h3 id="第二次抽离"><a href="#第二次抽离" class="header-anchor">#</a> 第二次抽离</h3> <p>不妨将准备好的 icon 放到 assets/img/tabbar 文件夹下，对于 icon 的命名有两种，一种是灰色 icon 采用英文命名，红色 icon 在对应的英文命名的基础上添加 <code>_active</code>的后缀，便于区分。下面就将准备好的 icon 引入到 <code>Tabbar.vue</code> 文件中吧。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/home.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      首页
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/love.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>关注
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/diamond.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      简书砖
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/comment.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      消息
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/profile.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      我的
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;TabBar&quot;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#tab-bar</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 49px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f5efef<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.tab-bar-item</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tab-bar-item img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>明显，现在 <code>TabBar.vue</code> 文件也有些臃肿，下面进行第二次抽离即对 <code>TabBar</code> 进行抽离。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;TabBar&quot;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#tab-bar</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 49px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f5efef<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>不妨建个文件抽离主要逻辑 <code>components/tabbar/TabBarItem.vue</code> 并微调样式。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/home.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      首页
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;TabBarItem&quot;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.tab-bar-item</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tab-bar-item img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这时可以在 <code>App.vue</code> 中进行使用。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> TabBar <span class="token keyword">from</span> <span class="token string">'@/components/tabbar/TabBar'</span>
<span class="token keyword">import</span> TabBarItem <span class="token keyword">from</span> <span class="token string">'@/components/tabbar/TabBarItem'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    TabBar<span class="token punctuation">,</span>
    TabBarItem
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/fe/assets/img/second-package.fe23e0a0.jpg" alt="文件结构确立"></p> <p>是不是有点内味了？此时的效果图如下。
<img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAeAB4AAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCADGAdMDASIAAhEBAxEB/8QAGwABAAMBAQEBAAAAAAAAAAAAAAMEBQYBAgf/xAA+EAABBAEBBQQGBwcEAwAAAAAAAQIDBAURBhITITEiM0FhFDJRcYGRIzU2QlVysgcVUnOU0dIWdKHBsbPU/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/e4e6aSEcPdNJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOHumkhHD3TSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjh7ppIRw900kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI4e6aSEcPdNJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOHumkhHD3TSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjh7ppIRw900kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI4e6aSEcPdNJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOHumkhHD3TSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjh7ppIRw900kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKIAI0AAKHzJKyGN0kj0Yxqauc5dEQhvXI6FKW1KiqyNNdE6qvRE+ZnMxtjJyNnyyokSc2UmL2G+bl+8v8AwBp1rde5FxK0zJWdNWLqTGXaw+ky28dIlW346J2JE9jm/wDZNjb7rrZWTQ8KxA7clZrqmvtRfYBeAAAAAAAAAAArWMhTqSsisWY43yeq1ztFUq3rtl1xMfQaxLCx8R8snqxN10108V8j6rYSnDFKkzPSZZu9lm7Sv/snkgRo6+IMN7bGz8ayMetjGN9Zj11khT2tX7zfI3EVFTVOaBQAAAAAAAAAACtFkKk1l9aKzG+ZnrMR3NDNV1zOOc2F61ce1zmOe1fpJtF0XT+FOpZlwNB9WOGKHgOi5xSxcnsX26hGkDKqXLda9Hjb+kj3tc6GwzkkiN67yeCmqFAAAAAAAAACtfusx9GW1I1zmxp0b1VVXRE+agTSyxwROlle1kbU1c5y6Ih8VrcFyHi1pmSs6asXUzI8ZPkJW2cuqKjecdRi/Rs/N/EpJaxDm2HXMbIla0vrJp9HJ+ZP+0A1QUsdfW7HI2SJYbEL9yWPXXR3kvihdAAAAAAAAAAGZeu2X3Ex1BrUsKziPlk9WNuunTxXyAtWMhUqzRxT2Y45JPVa52iqWTMr4OnFDKyZnpMk3eyzdpz/AO3wKrktbPs3991nGIvaR6/SQp5L95oRugAKAAAAAAC9QEAAFZG031BY/NH+tprla/SjyFGWrKrmtkTq3qi66ovzQo+gZnT67b8abf7ga5kYr62zH85n6EHoOZ/G2f0bf8i1jqHoTZXSTLPPM/flkVu7qumnJPBALoAAAAAAAAAAyIftXZ/2jP1Ka5mXMXNLeS5Tuuqz8Phv+jSRrm66pyXxI/Qcz+Ns/o2/5ASbRfZ69/LNCHuI/wAqGRNh8hciWC5l1kru9dkddrFcns3teRsoiIiInJEA9AAAAAAAAAAGZs/9TR/zJf8A2ONMx24m/XV7KWV4NdXue2N1dr93VdVTXX2nvoOZ/G2f0bf8gF/7R4f8s/8A4aa5l1sXZbfjt3b/AKU+JrmxIkSMRu91X/g1AgAAoAAAAAGRtN9QWPzR/raa5Xv02ZClLVkVzWyJ1b1RUXVF+aBFgGR6Bmfxtvxpt/uPQcz+Ns/o2/5AMV9bZj+cz9CGuUsdj/QWSufO6eeZ+/LK5EbvL05InRC6AAAUAAAAADIh+1dn/aM/Uprmbcxk8t5LlO76LMsfDfrEkiObrqnJQjSMzaL7PXv5ZH6Dmfxtn9G3/I+JcRkLcfBuZfiV3Km/Gys1iuT2a6gbQACgAAAAAvUHq9TwIAAK4vanafI4e02NlvZui1j0la2/lljksRJ1Th8Hlr4K1y80Tr0KOM24yOWvQur2tk3+kRNSHHtz+sqPXmu9pAqq7w0TTTn18INrcjYx+3D1r5ylilfj4951rIQ1eJ25OnEgl3tPLd6+JQgzN27mcPFNtVjMgxb0SrXr5itYevXnuR1I3Lp+b5hHSZvPZvG2p4Ib9aSdsfFbVr7P27bmouu610kcu7zVFTVUb7iChtDm7ctOCfJVq1mwqN3Jtl70Td7TeVvEfK1vgvyNq7MuJy2UyVhukE1aGGBEVFdLKiydhreqqu835mVi5knr7PYhY5K+Sx72PsVbKIyRGtjc1Xt56SN3nIm8xXJzA7ZAAFAAAAAAisunZWkdVjilnRvYZLIsbHL5uRrtPkpKeO9VfcB+bTftBu0sq9kmQ2PlinckccSZ7nWe1rt5Xu4KdldE5Kmuvjz5bmzuazWXpvYy9s5Zkjau/dpX3W2skXmiLE1jOz5cTXTxU4fEZ2/XxUMMe2eJqMZvIkEubqxOj7S8lY6k9zfcrne863YW5PfyealnytbJv3IG8etcjstTk/s78cUTdfLd8eoRTk2tz6y1kqXY7VeRypJPHspfVjGoirvIqSLv6ronL266nQ7OZPIZO1Px8lWnZAiNfD+5bFGVrl5tX6aRdU01+78TJlsPx1DZ/FuqWLFui5lm5BVRJXwRta5EcrUXnq7ojdXO0doi6G5g7EOQymUyVSWOanOkTGSMci9pqORzXN6tciroqORFA3gAFAAAAAAxdospaxNL0iFcXHD6sk+QyHorY1XpovDei/HT4m0cl+0OZ9fZ2CaO1HUey9XVJ5ZmxNj7fVXuY9rferXe4I5yD9oV+aJtV2X2NZPWcxs9r9+bqTppqvDRYVRPBFXmnXTy6W9mcxFiq+RdcxNKOVyMY2vWnyiTb3qqxY1jd7fur7zj3bR5LdVF28wqpp0/1DT/APgOtxNaa1sfss+JEekKwTSu3k0RqMXV3hr1AyodqtoHSWvSLKQQxO0jkXZHIu4jdEVXacTs89U5+w7XES2J8ZBPZtV7T5W77Za9d0DHNXm3sOc5U5eZzEOfqpkMxanbNBRvIyKnee1PR5t1qt7zXRurl0RXbqO5bup0+Fry1MFj60zd2WKvGx7dUXRyNRF6AXgAFAAAAAA4baja7I4S7ura2ZqJAqzLDbzCslsQ6Ly4fB1aq+GirzTxO5PzLaXJWaG3t5K+fpYpH0q6qlrIwVeJ2pOnEry73w06+IRexe2eSymSa2C3snP6Q1qQ0Yc/vSNXTV2ukCq53u0RNPiWc5ns3jLdqCC/XnsRxcVlWvs9bsrouu610kcu7quipqunuMCjl7l3aXBxT7U43JM9M14FfL17Du7fz3I6sTvjvfA7G/K7FZDL35mLw7FeGGs1FRXTSpv9hreuvaQDLx+fzdqzUrzZStBNOqJw59mL0DVdpvK1JJJUbroi/LodwcXjZm2Y9ncWkckF/Gua61VsojJGtbE5ivbz0e3eVE3mK5OfU7QAAAoAAAAAhtPsMqyPqxRSzo3sMmlWNjl83I1yp8lPzqT9oV2pk3xPyOx8sdh27Ez9/cqrmtXXfdwU1aqonLrqvX2fpMndP/Kp+NYXO5CDCU4otssTVYyJGpDLnKkTo0/hVjqTnNXyVzveoR3GCzeay2OkSK9s7O+Jv0l6peddax/XRYmsj5aa6dvXp6xku2tzz5qvo1xlirMiufZZslkN1qadlU+k7W95ci1sRanyE+efNk62TldwmpNXtx2W+o7s78cUTfhu/E+32H4+DZyi+pYnmxbGTX2VWJK6u3hOYm81q6rqrujd5VRFVEA19m8leyb7D7GRr2I4V4bokxFijIx+iO5pM9yqmi/w/E6Ew9n5YrlvKZGtLHNUtTMdDLG9HI7dja1ycuio5FRUXnyNwAAAoAAPXdTwAIAAKiSvA2y6dIo0nc3cdIjU3lROia9dOa8vM9kiimRvEja/dcj27zUXdVOip7F8wAKcGFx9TIyXGwK+45HLx5pHSvYi81axz1VWN1T1W6N8ia9jKuTZFFagbJuuSSJ2qo6NydHNcnNq+aAAWgAAAAAAABpryUACKvFDDC2GvEyKJnJrGNRqN9yJ0IrGPq22Tte17HTNRkkkEjopFRuunbYqOTx8fEABQx1TFwLXo1oq8W/qqRt03nL1c72uXxVeanjcZUbkX5KOBGWnIkUsjFVvERdNN5E5OVNeSrzTnp1ACLYACgAAAAARSwwWGs4sTJEa5HtR7UXdVOaKnsXXxAAlVNdE8F6mZawGLuLHFYptkhgRsbaznO4Gmuqaxa7iqmnJVbqngABovYySN0UjGuY5N1zVTVFToqaezQgpY6tiarKdSLhQNVeHGjlVrE9jdejefJE5J4AAWQAAAAAAACJIIWWXStiYk8jWI+RGpvOTnoir1XTn8wAPXxRTOYskbXrE7fYrmou6vTVPYvNeZTrYXHU78txkCvuLrrYme6WRrXKiq1rnqqtbrp2U0b5ABE17FVMmkLLUDZHRP4sL9VR0b0+81yc2r5p7VLQAAABQAAAAAVNdE8F6kdeKGCFkFeJkUbE3WsY1GtangiInRAAILWOq3YpY3tkjWbdSSSvK6GRyJ07bFR3/ACfVChTx9dK1GrDWh7T9yJiNTXXVV5dVVfEADyHGVYr0+QhgZHYkTcme1VbxFbyRXInJV8NV5onItABAABQAAf/Z" alt="效果图"></p> <p>好嘞，第二次抽离结束，今天组件的大致文件结构就是现在的样子了，如果需要更加个性化的操作，可能还会对其进行抽离，今天就先这样。</p> <p>现在我们有三个文件，其中 <code>App.vue</code> 已经成为了测试文件，用来检验我们的组件，现在的重点是处理 <code>TabBar.vue</code> 和 <code>TabBarItem.vue</code>。</p> <hr> <p>先缓一缓，将精力暂时先集中到 <code>TabBarItem.vue</code> 文件上，它是来处理单个 item 的，从上面的效果图来看，每个 item 都长得一样，很明显不符合我们的需求，不够个性化，明显我要传值进来，这就需要在 <code>TabBarItem.vue</code> 中定义一些插槽。</p> <p>看图可以发现需要搞两个插槽，不妨分别给它们起名： item-icon item-text。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- TabBarItem.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- &lt;img src=&quot;~@/assets/img/tabbar/home.svg&quot; /&gt;
  &lt;div&gt;首页&lt;/div&gt; --&gt;</span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在测试文件 <code>App.vue</code> 里进行插值操作测试。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/home.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/love.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关注<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/diamond.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>简书砖<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/comment.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>消息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/profile.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>经过一番倒腾，组件的外在已经有那么回事了。
<img src="data:image/jpeg;base64,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" alt="外在美"></p> <hr> <h2 id="功能代码"><a href="#功能代码" class="header-anchor">#</a> 功能代码</h2> <p>现在组件的外在搞好了，是一个纸片人的状态，下面让它动起来，响应我们的交互。</p> <h3 id="功能点1：点击变色"><a href="#功能点1：点击变色" class="header-anchor">#</a> 功能点1：点击变色</h3> <p>这时就要用到我们准备的另外一组图片了，在 item 被点击时，我们给它换张图片，再搞一个插槽 item-icon-active 用来存储 item 被激活的 icon 。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- TabBarItem.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon-active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>有了新的插槽，我们就可以在 <code>App.vue</code> 中测试了，这里拿首页进行举例。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/home.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon-active<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>~@/assets/img/tabbar/home_active.svg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tab-bar-item</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>此时的效果图如下：</p> <p><img src="data:image/jpeg;base64,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" alt="我都要"></p> <p>嗯，连 icon 都成双成对的。。。</p> <p>我们的使命是破坏它们，只能显示一个，要么是灰色 icon 要么是红色 icon 。</p> <p>当 item 处于激活状态是要换成红色的 icon，同时文字也要变成红色。</p> <p>也就是说现在的任务是条件展示，会涉及到 v-if 和动态绑定 class 的相关知识。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- TabBarItem.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-bar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 两个插槽显示一个 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>!isActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-else</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-icon-active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{active: isActive}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;TabBarItem&quot;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      isActive<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.tab-bar-item</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.tab-bar-item img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.active</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #f40<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>效果展示如下：
<img src="/fe/assets/img/test1.02992ce6.gif" alt="isActive"></p> <p>好的现在我们通过控制 <code>isActive</code> 的值来模拟 item 被激活的情况，通过 <code>v-if</code> 控制 icon 的切换，通过给文字动态添加类名并通过 CSS 来改变文字的颜色。</p> <p>通过测试图可以发现一变全变，这个问题留在后面解决，肯定不能手动改 <code>isActive</code> 的值。</p> <hr> <h3 id="功能点2：路由跳转"><a href="#功能点2：路由跳转" class="header-anchor">#</a> 功能点2：路由跳转</h3> <p>来人呀，上路由。</p> <p>准备工作：编写各个组件，放到 views 文件夹中，下面是 <code>Profile.vue</code> 的示例代码。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>profile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>cemcoe的页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>下面是配置的路由表。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">'/home'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/home&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/love'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Love
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/diamond'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Diamond
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/comment'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Comment
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/profile'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Profile
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>去 <code>TabBarItem.vue</code> 文件中去监听点击事件并进行调转功能的实现。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 核心代码</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span>
</code></pre></div><p><img src="/fe/assets/img/router.6dcfd663.jpg" alt="传值"></p> <p><code>App.vue</code> 文件通过 <code>path=&quot;/home&quot;</code> 将对应的跳转路径传给 <code>TabBarItem.vue</code> 通过监听组件的点击执行 <code>itemClick()</code> 跳转到对应的组件。</p> <p><img src="/fe/assets/img/test2.442ec720.gif" alt="效果"></p> <p>第二个功能点实现。</p> <hr> <h3 id="完善功能点1"><a href="#完善功能点1" class="header-anchor">#</a> 完善功能点1</h3> <p>目前功能点1还有一些问题，路由切换时，图片和文字没有改变，这是因为之前 <code>isActive</code> 是写死的，下面进行动态变化。</p> <p>现在要解决的问题是如何知道当前哪个 item 处于活跃状态，知道之后我们就可以对 <code>isActive</code> 进行动态的赋值。这里要用到 <code>this.$route</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// TabBarItem.vue</span>
computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">isActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// return this.$route.path.indexOf(this.path) !== -1</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里使用 <code>indexOf()</code> 和 <code>includes</code> 都是可以实现相应功能，但后者语义化更强。</p> <p><img src="/fe/assets/img/done.481a1a9a.gif" alt="收工"></p> <p>经过一番的倒腾，这个 TabBar 组件就封装好了。下面是一些边角料。</p> <hr> <h2 id="边角料"><a href="#边角料" class="header-anchor">#</a> 边角料</h2> <p>更加个性化的操作，活跃时字体的颜色可能并不是红色。我们可以动态设置。
<img src="/fe/assets/img/text-color.78a74043.jpg" alt="动态传入颜色"></p> <p><img src="/fe/assets/img/text-color-done.734fec8b.gif" alt="非主流"></p> <p><img src="/fe/assets/img/cao.69571c39.jpg" alt="更加复杂的场景"></p> <p>其实可以个性化的地方还有很多，如上图可能需要显示红点或者未读信息的数目等。比如整个大的背景色，TabBar 的位置可能在页面的上方区域。</p> <p>本文是对 TabBar 组件的简单封装，具体哪些需要个性化可能需要考虑具体项目，个性化的地方也不是越多越好，暴露的接口越多，稳定性等方面可能会有一定程度的减低，维护成本也会增多，一句俗话：适合自己的才是最好的。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/9/2020, 1:51:29 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/fe/assets/js/app.fb16d0e0.js" defer></script><script src="/fe/assets/js/2.0ebfb968.js" defer></script><script src="/fe/assets/js/3.029156cd.js" defer></script>
  </body>
</html>
