<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>化学小子的前端实验册</title>
    <meta name="description" content="化学小子的前端实验册，记录学习中遇到的各种坑">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/fe/assets/css/0.styles.4f59bd7b.css" as="style"><link rel="preload" href="/fe/assets/js/app.54f7e70c.js" as="script"><link rel="preload" href="/fe/assets/js/2.8e6b9e55.js" as="script"><link rel="preload" href="/fe/assets/js/16.db00ea1c.js" as="script"><link rel="prefetch" href="/fe/assets/js/10.49d310ea.js"><link rel="prefetch" href="/fe/assets/js/11.95d8a6b4.js"><link rel="prefetch" href="/fe/assets/js/12.3821a2c1.js"><link rel="prefetch" href="/fe/assets/js/13.ac32063a.js"><link rel="prefetch" href="/fe/assets/js/14.20d13727.js"><link rel="prefetch" href="/fe/assets/js/15.bfc0a594.js"><link rel="prefetch" href="/fe/assets/js/17.c3ba91a7.js"><link rel="prefetch" href="/fe/assets/js/18.00e587bd.js"><link rel="prefetch" href="/fe/assets/js/19.292cb40d.js"><link rel="prefetch" href="/fe/assets/js/20.490f69b9.js"><link rel="prefetch" href="/fe/assets/js/21.f574ea8e.js"><link rel="prefetch" href="/fe/assets/js/22.3b605cd1.js"><link rel="prefetch" href="/fe/assets/js/23.4ecf13c3.js"><link rel="prefetch" href="/fe/assets/js/24.9785ea09.js"><link rel="prefetch" href="/fe/assets/js/25.6dbf194f.js"><link rel="prefetch" href="/fe/assets/js/26.a9e9d58e.js"><link rel="prefetch" href="/fe/assets/js/27.90b4b940.js"><link rel="prefetch" href="/fe/assets/js/28.7a6665bb.js"><link rel="prefetch" href="/fe/assets/js/3.49e5bd88.js"><link rel="prefetch" href="/fe/assets/js/4.699fe65b.js"><link rel="prefetch" href="/fe/assets/js/5.c01701d5.js"><link rel="prefetch" href="/fe/assets/js/6.0d4b6892.js"><link rel="prefetch" href="/fe/assets/js/7.3c09d990.js"><link rel="prefetch" href="/fe/assets/js/8.90d8722f.js"><link rel="prefetch" href="/fe/assets/js/9.bf6753bf.js">
    <link rel="stylesheet" href="/fe/assets/css/0.styles.4f59bd7b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe/" class="home-link router-link-active"><!----> <span class="site-name">化学小子的前端实验册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/front-end-data-collation-and-learning-records/" class="nav-link">
  前端资料整理及学习记录
</a></li><li class="dropdown-item"><!----> <a href="/fe/front-end-adventure-roadmap/" class="nav-link">
  前端探险路线图
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/css-two-column-layout/" class="nav-link">
  CSS效果 | 两栏布局那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-three-column-layout/" class="nav-link">
  CSS效果 | 三栏布局那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-tab-bar/" class="nav-link">
  CSS效果 | Tab选项卡
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-swiper-picture/" class="nav-link">
  CSS效果 | 轮播图
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">JS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/a-few-simple-arithmetic-problems/" class="nav-link">
  JS | 几道简单的数学题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/vue-start-note/" class="nav-link">
  Vue | 入手笔记
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-insert-data-to-dom/" class="nav-link">
  Vue | 如何将数据插入到DOM中
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-insert-data-to-elm-attr/" class="nav-link">
  Vue | 如何将数据插入到元素属性中
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-two-cp-computed-methods-v-if-show/" class="nav-link router-link-exact-active router-link-active">
  Vue | computed和methods与v-if和v-show的故事
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-v-on-and-methods/" class="nav-link">
  Vue | v-on和methods的羁绊
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-v-model-and-form/" class="nav-link">
  Vue | v-model和form的羁绊
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-base-operation/" class="nav-link">
  Vue | 组件化基本操作
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-communication/" class="nav-link">
  Vue | 组件通信
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-personal/" class="nav-link">
  Vue | 组件个性化
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-package-a-tabbar-component-from-zero/" class="nav-link">
  Vue | 封装一个tabbar组件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/those-things-of-the-network-requests/" class="nav-link">
  网络请求那些事情
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-mock-data/" class="nav-link">
  如何模拟后端数据
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-axios/" class="nav-link">
  axios那些事
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/node-koa-start-learn/" class="nav-link">
  Koa初体验
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/front-end-data-collation-and-learning-records/" class="nav-link">
  前端资料整理及学习记录
</a></li><li class="dropdown-item"><!----> <a href="/fe/front-end-adventure-roadmap/" class="nav-link">
  前端探险路线图
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/css-two-column-layout/" class="nav-link">
  CSS效果 | 两栏布局那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-three-column-layout/" class="nav-link">
  CSS效果 | 三栏布局那些事
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-tab-bar/" class="nav-link">
  CSS效果 | Tab选项卡
</a></li><li class="dropdown-item"><!----> <a href="/fe/css-swiper-picture/" class="nav-link">
  CSS效果 | 轮播图
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">JS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/a-few-simple-arithmetic-problems/" class="nav-link">
  JS | 几道简单的数学题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/vue-start-note/" class="nav-link">
  Vue | 入手笔记
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-insert-data-to-dom/" class="nav-link">
  Vue | 如何将数据插入到DOM中
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-insert-data-to-elm-attr/" class="nav-link">
  Vue | 如何将数据插入到元素属性中
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-two-cp-computed-methods-v-if-show/" class="nav-link router-link-exact-active router-link-active">
  Vue | computed和methods与v-if和v-show的故事
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-v-on-and-methods/" class="nav-link">
  Vue | v-on和methods的羁绊
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-v-model-and-form/" class="nav-link">
  Vue | v-model和form的羁绊
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-base-operation/" class="nav-link">
  Vue | 组件化基本操作
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-communication/" class="nav-link">
  Vue | 组件通信
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-com-personal/" class="nav-link">
  Vue | 组件个性化
</a></li><li class="dropdown-item"><!----> <a href="/fe/vue-package-a-tabbar-component-from-zero/" class="nav-link">
  Vue | 封装一个tabbar组件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/those-things-of-the-network-requests/" class="nav-link">
  网络请求那些事情
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-mock-data/" class="nav-link">
  如何模拟后端数据
</a></li><li class="dropdown-item"><!----> <a href="/fe/network-axios/" class="nav-link">
  axios那些事
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/node-koa-start-learn/" class="nav-link">
  Koa初体验
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe/vue-two-cp-computed-methods-v-if-show/#两对cp" class="sidebar-link">两对cp</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/vue-two-cp-computed-methods-v-if-show/#methods-computed" class="sidebar-link">methods &amp;&amp; computed</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/vue-two-cp-computed-methods-v-if-show/#v-if-v-show" class="sidebar-link">v-if &amp;&amp; v-show</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>今天来看两对 cp，之所以把他们当 cp，是因为每次写其中之一时，总是要拿另一个做比较，这种关系在前端很常见。</p> <p>基本上是看起来好像实现的功能点是一样的，但实际上每个都有其特殊的应用场景。彼此互为补充，缺了谁，都有点不大对劲。</p> <h2 id="两对cp"><a href="#两对cp" class="header-anchor">#</a> 两对cp</h2> <p>今天来介绍的两对是：</p> <ul><li>methods &amp;&amp; computed</li> <li>v-if &amp;&amp; v-show</li></ul> <hr> <h2 id="methods-computed"><a href="#methods-computed" class="header-anchor">#</a> methods &amp;&amp; computed</h2> <p>先来看第一对，methods &amp;&amp; computed 是创建 Vue 实例时可以选择的字段，和 el， data 是同一类的。</p> <p>两者的关系有一种既生瑜何生亮的感觉。</p> <p>在比较之前先看一个 computed 的个人问题。</p> <p>为何计算属性写的时候是函数，用的时候当成属性【不加小括号】来操作？</p> <p>假设接下来用到的 data 为：</p> <div class="language-js extra-class"><pre class="language-js"><code>data<span class="token operator">:</span> <span class="token punctuation">{</span>
  firstName<span class="token operator">:</span> <span class="token string">'cem'</span><span class="token punctuation">,</span>
  lastName<span class="token operator">:</span> <span class="token string">'coe'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在要在页面中展示完整的名字，可以使用的方式：</p> <ul><li>双大括号语法 NaN 语法过于繁琐</li> <li>methods</li> <li>computed</li></ul> <p>使用计算属性：</p> <div class="language-js extra-class"><pre class="language-js"><code>computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在 html 中使用时可能是这样的：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{fullName}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>为什么不加小括号呢？它不是函数吗？</p> <p>这里其实是计算属性的简写，完整的写法：</p> <div class="language-js extra-class"><pre class="language-js"><code>computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  fullName<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>计算属性本质上就是一个属性，并非函数，只是开发时一般不实现 set 方法。只是简写以后给人一种函数的感觉。</p> <p>这也就解释了为何计算属性写的时候是函数，用的时候当成属性来操作。</p> <p>那么接下进入正题，来看一下这对 cp 的异同。</p> <hr> <p>这里做一个对比实验，methods &amp;&amp; computed 在页面中均搞 3 次。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  {{fullName}}
  {{fullName}}
  {{fullName}}
  ---
  {{getFullName()}}
  {{getFullName()}}
  {{getFullName()}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>为了看到结果在它们身上埋点 console</p> <div class="language-js extra-class"><pre class="language-js"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;methods&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;computed&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/fe/assets/img/computed-and-methods.9bc2c2cc.jpg" alt="methods &amp;&amp; computed"></p> <p>从结果来看，同样请求三次数据的情况下， methods 执行3次，而 computed 仅仅执行1次。</p> <p>在 firstName 和 lastName 不改改变时，computed 会使用缓存的结果，效率更高，更加节省资源。</p> <p>其实两者之中还有一个第三者，唤为 watch，他们之间错综复杂的关系找时间再写。</p> <hr> <h2 id="v-if-v-show"><a href="#v-if-v-show" class="header-anchor">#</a> v-if &amp;&amp; v-show</h2> <p>来看第二对 v-if &amp;&amp; v-show,，两者用于条件渲染。</p> <p>通过一个对比实验来看一看 v-if &amp;&amp; v-show 的区别，为了看清结果，给他们埋下 id：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>if<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>cemcoe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>cemcoe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/fe/assets/img/v-show-v-if.ec1e0522.gif" alt="v-if &amp;&amp; v-show"></p> <p>当 isShow 的值被改成 false 时，两个都消失。但他们不一样，通过观察埋下的 id 可以发现：v-if 直接从 DOM 中删掉，v-show 增加了行内样式 display:none，仅仅是视觉不可见。</p> <p>v-show 更像是一件隐身斗篷。元素仍然存在，只是不可见。</p> <p>在 CSS 中有类似的问题：display:none 和 visibility:hidden 的异同。又给自己挖了一个坑，有空填。</p> <p>开发中 v-if 使用较多，向服务器请求数据仅仅加载有权限的内容，如果没有权限就不能将数据添加到 DOM 中。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/13/2020, 5:56:17 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/fe/assets/js/app.54f7e70c.js" defer></script><script src="/fe/assets/js/2.8e6b9e55.js" defer></script><script src="/fe/assets/js/16.db00ea1c.js" defer></script>
  </body>
</html>
